Universidad Católica de Santa Marı́a

Escuela Profesional de Ingenierı́a Electrónica

Informe 4NEC2

Curso: Software de Telecomunicaciones
Alumno: Luis Orlando Figueroa Morales
Docente: Ing. Mario Urrutia Espinoza

Arequipa - 2021

1.

Introducción

4NEC2 es un programa libre para modelizar antenas. Además de ser una herramienta potente
para crear, ver optimizar y probar estructura de antenas en 2D y 3D que también genera,
muestra y compara campos cercanos y lejanos de radiación. El código fuente esta escrito en
el lenguaje de programación Fortran.
4NEC2 por sus siglas en inglés: “The Numerical Electromagnetics Code (NEC-2)” es un
programa orientado al usuario para el análisis de respuesta electromagnéticas de antenas y
de otras estructuras metálicas. Esta hecho a través de distintos métodos numéricos de solución
con ecuaciones integrales para para las corrientes inducidas en la estructura por fuentes o
campos incidentes.
El código fuente en el cual esta hecho 4NEC2 combina varias ecuaciones integrales para
superficies suaves con una especializada en cables para proveer precisión para el modelamiento
en estructuras de un ancho rango. Los modelos deben incluir redes no radiantes y lı́neas de
transmisión conectadas a partes de la estructura, con conductores perfectos e imperfectos.
Algunas de las herramientas que vienen en 4NEC2 son el Optimizer y Sweeper con el cual se
pueden hacer optimizaciones en la antena cuando se ejecutan barridos dé frecuencia haciendo
que se generen gráficos de lı́neas de impedancia, ROE, ganancia, relación F/B de estilo lineal
y logarı́tmico. Haciendo el Sweeper (o barrido) se puede mostrar de manera gráfica.

Figura 1: Ventana principal de 4NEC2.

2.

Caracterı́sticas

Algunas de las caracterı́sticas que este software nos detalla en su documentación (https://www.qsl.net/4nec2
son:

1

Las gráficas en 2D y 3D de visualización de estructuras geométricas.
Opción para arrastrar y soltar para poder modelar antenas.
Visualización interactiva de la Carta de Smith para barridos de frecuencia.
Archivo de ayuda de manera contextual.

3.

Modelamiento de la antena

Para el modelamiento de antenas debemos considerar distintos parámetros a tomar en cuenta
para diseñar una antena. Como se sabe hay fórmula sencillas que se utilizan para hallar diseño
de antenas (por ejemplo las dipolo) pero colocarlas en un software como NEC2 facilita estos
cálculos pues solo se pondrı́an ciertos parámetros (como frecuencia y rango de radiación=)
para que el mismo software nos haga el análisis a partir del conocimiento previo que tenemos
del programa.
NEC2 usa un análisis básico de la antena basado en el “método de momentos”, una técnica
matemática donde subdivida una antena en pequeños segmentos para calcular las propiedades
mas apropiadas para cada caso. Los resultados pueden ser sencillamente ajustados a las
ecuaciones de ingenierı́a para resistencia del material, carga del elemento y efectos de la
tierra.

3.1.

Modelamiento con Geometry Edit

Con Geometry Editor se puede establecer la estructura geométrico de la antena. Esta herramienta
se encuentra dentro de al ventana Main en settings y se marca Geometry Edit. Después de
esto se presiona edit NEC and input file donde carga un ejemplo.
Por ejemplo, si se quiere modelar un dipolo de λ.

2

En esta figura se pueden ver los distintos elementos, un dipolo, antenas cúbicas de bucle y
elementos doblados. Para formas que no son rectas en 4NEC2 se debe poner un aproximado
ya que es una figura no recta.

4.

Interfaz de usuario para 4nec2

Al inicio el usuario tiene cuatro ventanas principales (y también accesos rápidos a dichas
ventanas. Las cuales son:
1. Main (F2).
2. Geometry (F3).
3. Pattern (F4).
4. Impedance (Imp/SWR/Gain) (F5).
A continuación se puede ver una captura de pantalla de una maquina virtual con 4NEC2
instalado, donde se pueden apreciar las 4 ventanas ya abiertas.

Figura 2: Captura de pantalla de las 4 ventanas ya ejecutadas.

5.

Como modelar antenas

Lo importante antes de comenzar haciendo la modelación de las antenas es conocer cual es
nuestro entorno como por ejemplo saber que tipos de archivos vamos a usar a editar, como
3

lo veremos a continuación.
Hay muchas guı́as en internet pero en esta ocasión usaremos una guı́a disponible en la página
leanpub.

5.1.

Archivos NEC

Lo primero para poder hacer el modelamiento de la antena es reconocer como es un archivo
NEC (Numerical Electromagnetics Code ó Código Numérico Electromagnético).
CM
CM
3 CM
4 CM
5 CE
6 GW
7 GW
8 GW
9 GW
10 GW
11 GW
12 GW
13 GW
14 GW
15 GW
16 GW
17 GW
18 GE
19 FR
20 TL
21 TL
22 TL
23 TL
24 TL
25 TL
26 TL
27 TL
28 TL
29 TL
30 TL
31 EX
32 RP
33 EN
1
2

TESTEX5
12 ELEMENT LOG PERIODIC ANTENNA IN FREE SPACE
78 SEGMENTS . SIGMA = O / L RECEIVING AND TRANS . PATTERNS .
DIPOLE LENGTH TO DIAMETER RATIO =150.
TAU =0.93. SIGMA =0.70. BOOM IMPEDANCE =50. OHMS .
1 5 0.0000 -1.0000 0.0000000 0.00000 1.0000 0.000 .00667
2 5 -.7527 -1.0753 0. -.7527 1.0753 0. .00717
3 5 -1.562 -1.1562 0. -1.562 1.1562 0. .00771
4 5 -2.4323 -1.2432 0. -2.4323 1.2432 0. .00829
5 5 -3.368 -1.3368 0. -3.368 1.3368 0. .00891
6 7 -4.3742 -1.4374 0. -4.3742 1.4374 0. .00958
7 7 -5.4562 -1.5456 0. -5.4562 1.5456 0. .0103
8 7 -6.6195 -1.6619 0. -6.6195 1.6619 0. .01108
9 7 -7.8705 -1.787 0. -7.8705 1.787 0. .01191
10 7 -9.2156 -1.9215 0. -9.2156 1.9215 0. .01281
11 9 -10.6619 -2.0662 0. -10.6619 2.0662 0. .01377
12 9 -12.2171 -2.2217 0. -12.2171 2.2217 0. .01481
0 0 0 0 46.29 0.
1 3 2 3 -50.
2 3 3 3 -50.
3 3 4 3 -50.
4 3 5 3 -50.
5 3 6 4 -50.
6 4 7 4 -50.
7 4 8 4 -50.
8 4 9 4 -50.
9 4 10 4 -50.
10 4 11 5 -50.
11 5 12 5 -50. ,0. ,0. ,0. ,.02
0 1 3 10 1
0 37 1 1110 90. 0. -5. 0.

Código 1: Ejemplo de un archivo .NEC de una antena logarı́tmica periódica.

6.

Facilidades de procesado

Se tiene dos formas para la simulación con NEC2, la primera es usando el editor geométrico
para desarrollar y modificar el modelado de una antena, es necesario que se tenga por lo

4

menos una variable a optimizar, estas variables pueden estar en el bloc de notas o en el
editor NEC2, el cual serı́a el modelado en bloc de notas editor “notepad”.

7.

Diseñando una antena

Se pueden realizar dos tipos de diseño en el software, uno es mediante la herramienta
“Geometry Edit”, en donde se puede establecer una estructura geométrica y la otra es
mediante la herramienta de “Notepad ”.

7.1.

Modelado con Geometry Edit

Con este tipo de modelado se establece la estructura geométrica de una antena.

5

